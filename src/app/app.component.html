<div class="min-h-screen bg-slate-900 text-brand-text flex flex-col items-center p-4 sm:p-6 lg:p-8">
  <div class="w-full max-w-6xl mx-auto">
    <header class="text-center mb-8">
      <h1 class="text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-emerald-400">
        Firebase AI Image Alt Text Generator
      </h1>
      <p class="mt-2 text-lg text-slate-400">
        Upload an image to generate alt text and tags with Gemini
      </p>
    </header>

    @if (hasNoFirebase()) {
      <p class="text-lg text-slate-400">Firebase initialization failed.</p>
    } @else {
      @let imageAnalysis = analysis();
      <main class="bg-slate-800/50 border border-slate-700 rounded-2xl p-6 md:p-8 shadow-2xl shadow-slate-950/50 backdrop-blur-sm">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
          <!-- Left Side: Uploader and Image Preview -->
          <app-photo-panel
            [(analysis)]="analysis"
            [(error)]="error"
            [isLoading]="isLoading()"
            (emitFile)="handleGenerateClick($event)"
          />

          <!-- Right Side: Results -->
          <app-alt-text-panel
            [analysis]="analysis()"
            [error]="error()"
            [isLoading]="isLoading()"
          />
        </div>
        <div>
          <app-thought-summary [thought]="imageAnalysis?.thought || ''" [tokenUsage]="imageAnalysis?.tokenUsage" />
        </div>
      </main>
    }
  </div>
</div>
